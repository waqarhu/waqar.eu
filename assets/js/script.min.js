"use strict";const elementToggleFunc=function(e){e&&e.classList.toggle("active")},sanitizeInput=function(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML},sidebar=document.querySelector("[data-sidebar]"),sidebarBtn=document.querySelector("[data-sidebar-btn]");sidebar&&sidebarBtn&&sidebarBtn.addEventListener("click",function(){elementToggleFunc(sidebar)});const testimonialsItem=document.querySelectorAll("[data-testimonials-item]"),modalContainer=document.querySelector("[data-modal-container]"),modalCloseBtn=document.querySelector("[data-modal-close-btn]"),overlay=document.querySelector("[data-overlay]"),modalImg=document.querySelector("[data-modal-img]"),modalTitle=document.querySelector("[data-modal-title]"),modalText=document.querySelector("[data-modal-text]"),modalDate=document.querySelector("[data-modal-container] time"),testimonialsModalFunc=function(){modalContainer&&overlay&&(modalContainer.classList.toggle("active"),overlay.classList.toggle("active"))};testimonialsItem.length>0&&modalImg&&modalTitle&&modalText&&testimonialsItem.forEach(e=>{e.addEventListener("click",function(){try{const e=this.querySelector("[data-testimonials-avatar]"),t=this.querySelector("[data-testimonials-title]"),n=this.querySelector("[data-testimonials-text]");if(e&&t&&n){modalImg.src=e.src,modalImg.alt=e.alt,modalTitle.textContent=t.textContent,modalText.textContent=n.textContent;const o=this.getAttribute("data-testimonial-date"),a=this.getAttribute("data-testimonial-date-text");o&&a&&modalDate&&(modalDate.setAttribute("datetime",o),modalDate.textContent=a),testimonialsModalFunc()}}catch(e){console.error("Error opening testimonial modal:",e)}})}),modalCloseBtn&&modalCloseBtn.addEventListener("click",testimonialsModalFunc),overlay&&overlay.addEventListener("click",testimonialsModalFunc);const select=document.querySelector("[data-select]"),selectItems=document.querySelectorAll("[data-select-item]"),selectValue=document.querySelector("[data-selecct-value]"),filterBtn=document.querySelectorAll("[data-filter-btn]");select&&select.addEventListener("click",function(){elementToggleFunc(this)}),selectItems.length>0&&selectValue&&selectItems.forEach(e=>{e.addEventListener("click",function(){const e=this.innerText.toLowerCase();selectValue.innerText=this.innerText,elementToggleFunc(select),filterFunc(e)})});const filterItems=document.querySelectorAll("[data-filter-item]"),filterFunc=function(e){filterItems.forEach(t=>{"all"===e||e===t.dataset.category?t.classList.add("active"):t.classList.remove("active")})};if(filterBtn.length>0){let e=filterBtn[0];filterBtn.forEach(t=>{t.addEventListener("click",function(){const t=this.innerText.toLowerCase();selectValue&&(selectValue.innerText=this.innerText),filterFunc(t),e&&e.classList.remove("active"),this.classList.add("active"),e=this})})}const form=document.querySelector("[data-form]"),formInputs=document.querySelectorAll("[data-form-input]"),formBtn=document.querySelector("[data-form-btn]");form&&formInputs.length>0&&formBtn&&(formInputs.forEach(e=>{e.addEventListener("input",function(){form.checkValidity()?formBtn.removeAttribute("disabled"):formBtn.setAttribute("disabled","")})}),form.addEventListener("submit",async function(e){e.preventDefault();const t=document.getElementById("form-status"),n=new FormData(form);formBtn&&(formBtn.disabled=!0,formBtn.innerHTML='<ion-icon name="hourglass-outline"></ion-icon><span>Sending...</span>');try{if(!(await fetch(form.action,{method:"POST",body:n,headers:{Accept:"application/json"}})).ok)throw new Error("Form submission failed");t&&(t.style.display="block",t.style.backgroundColor="#d4edda",t.style.color="#155724",t.style.border="1px solid #c3e6cb",t.innerHTML="✓ Message sent successfully! I'll get back to you soon."),form.reset(),formBtn.setAttribute("disabled","")}catch(e){t&&(t.style.display="block",t.style.backgroundColor="#f8d7da",t.style.color="#721c24",t.style.border="1px solid #f5c6cb",t.innerHTML="✗ Oops! Something went wrong. Please try again or email me directly.")}finally{formBtn&&(formBtn.disabled=!1,formBtn.innerHTML='<ion-icon name="paper-plane"></ion-icon><span>Send Message</span>'),setTimeout(()=>{t&&(t.style.display="none")},5e3)}}));const navigationLinks=document.querySelectorAll("[data-nav-link]"),pages=document.querySelectorAll("[data-page]");navigationLinks.length>0&&pages.length>0&&navigationLinks.forEach((e,t)=>{e.addEventListener("click",function(){const e=this.getAttribute("data-page-target")||this.innerHTML.toLowerCase();pages.forEach((t,n)=>{e===t.dataset.page?(t.classList.add("active"),navigationLinks[n].classList.add("active"),window.scrollTo(0,0)):(t.classList.remove("active"),navigationLinks[n].classList.remove("active"))})})}),window.addEventListener("error",function(e){console.error("Global error:",e.error)}),window.addEventListener("unhandledrejection",function(e){console.error("Unhandled promise rejection:",e.reason)});const themeToggle=document.querySelector("[data-theme-toggle]"),html=document.documentElement,currentTheme=localStorage.getItem("theme")||"dark";html.setAttribute("data-theme",currentTheme),themeToggle&&themeToggle.addEventListener("click",function(){const e="dark"===html.getAttribute("data-theme")?"light":"dark";html.setAttribute("data-theme",e),localStorage.setItem("theme",e)});const prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)");prefersReducedMotion.matches&&html.classList.add("reduce-motion");const calculateYearsOfExperience=function(){return(new Date).getFullYear()-2015};document.addEventListener("DOMContentLoaded",function(){const e=calculateYearsOfExperience();document.querySelectorAll("[data-years-experience]").forEach(t=>{const n=(t.textContent||t.innerText).replace(/\d+\+?/,e+"+");t.textContent=n})});