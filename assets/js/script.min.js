"use strict";const avatarImages=["./assets/images/my-avatar.webp","./assets/images/my-avatar-1.webp"];let currentAvatarIndex=0;const avatarElement=document.getElementById("profile-avatar");function rotateAvatar(){avatarImages.length>1&&avatarElement&&(currentAvatarIndex=(currentAvatarIndex+1)%avatarImages.length,avatarElement.style.opacity="0",setTimeout(()=>{avatarElement.src=avatarImages[currentAvatarIndex],avatarElement.style.opacity="1"},2e3))}function shuffleTestimonials(){const e=document.querySelector(".testimonials-list");if(!e)return;const t=Array.from(e.children);if(!(t.length<=1)){for(let e=t.length-1;e>0;e--){const a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}e.style.opacity="0",setTimeout(()=>{t.forEach(t=>e.appendChild(t)),e.style.opacity="1"},500)}}avatarImages.length>1&&setInterval(rotateAvatar,1e4),setInterval(shuffleTestimonials,3e4);const islamicQuotes=[{text:"Indeed, with hardship comes ease.",author:"Quran 94:6"},{text:"And whoever fears Allah - He will make for him a way out.",author:"Quran 65:2"},{text:"So verily, with the hardship, there is relief. Verily, with the hardship, there is relief.",author:"Quran 94:5-6"},{text:"Allah does not burden a soul beyond that it can bear.",author:"Quran 2:286"},{text:"And He is with you wherever you are.",author:"Quran 57:4"},{text:"Indeed, Allah is with those who are patient.",author:"Quran 8:46"},{text:"So remember Me; I will remember you.",author:"Quran 2:152"},{text:"And He found you lost and guided you.",author:"Quran 93:7"},{text:"And whoever relies upon Allah - then He is sufficient for him.",author:"Quran 65:3"},{text:"Indeed, my Lord is near and responsive.",author:"Quran 11:61"},{text:"Whoever does righteousness, whether male or female, while he is a believer - We will surely cause him to live a good life.",author:"Quran 16:97"},{text:"And seek help through patience and prayer.",author:"Quran 2:45"},{text:"Indeed, Allah will not change the condition of a people until they change what is in themselves.",author:"Quran 13:11"},{text:"And whoever puts their trust in Allah, He will be enough for them.",author:"Quran 65:3"},{text:"Do not lose hope, nor be sad.",author:"Quran 3:139"},{text:"The best of people are those who are most beneficial to others.",author:"Hadith (Ahmad)"},{text:"Whoever is not merciful to others will not be treated mercifully.",author:"Hadith (Bukhari)"},{text:"The strong person is not the one who can overpower others, but the one who controls himself when angry.",author:"Hadith (Bukhari)"},{text:"Make things easy and do not make them difficult, cheer people up and do not repel them.",author:"Hadith (Bukhari)"},{text:"The believer who has the most perfect faith is the one whose character is finest and who is kindest to his wife.",author:"Hadith (Tirmidhi)"},{text:"A good word is charity.",author:"Hadith (Bukhari)"},{text:"Richness is not having many possessions, but richness is being content with oneself.",author:"Hadith (Bukhari)"},{text:"The most beloved of people to Allah are those who are most beneficial to people.",author:"Hadith (Tabarani)"},{text:"Whoever believes in Allah and the Last Day should speak good or remain silent.",author:"Hadith (Bukhari)"},{text:"None of you truly believes until he loves for his brother what he loves for himself.",author:"Hadith (Bukhari)"},{text:"The best richness is the richness of the soul.",author:"Hadith (Bukhari)"},{text:"The most perfect of believers in faith are those who are the finest in manners.",author:"Hadith (Tirmidhi)"},{text:"Kindness is a mark of faith, and whoever has not kindness has not faith.",author:"Hadith (Muslim)"},{text:"Actions are judged by intentions.",author:"Hadith (Bukhari)"},{text:"Seek knowledge from the cradle to the grave.",author:"Hadith (Ibn Majah)"}];function displayIslamicQuote(){const e=document.querySelector(".quote-text"),t=document.querySelector(".quote-author");if(e&&t){const a=islamicQuotes[Math.floor(Math.random()*islamicQuotes.length)];e.textContent=`"${a.text}"`,t.textContent=`— ${a.author}`}}displayIslamicQuote(),setInterval(displayIslamicQuote,12e4);const elementToggleFunc=function(e){e&&e.classList.toggle("active")},sanitizeInput=function(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML},sidebar=document.querySelector("[data-sidebar]"),sidebarBtn=document.querySelector("[data-sidebar-btn]");sidebar&&sidebarBtn&&sidebarBtn.addEventListener("click",function(){elementToggleFunc(sidebar)});const testimonialsItem=document.querySelectorAll("[data-testimonials-item]"),modalContainer=document.querySelector("[data-modal-container]"),modalCloseBtn=document.querySelector("[data-modal-close-btn]"),overlay=document.querySelector("[data-overlay]"),modalImg=document.querySelector("[data-modal-img]"),modalTitle=document.querySelector("[data-modal-title]"),modalText=document.querySelector("[data-modal-text]"),modalDate=document.querySelector("[data-modal-container] time"),testimonialsModalFunc=function(){modalContainer&&overlay&&(modalContainer.classList.toggle("active"),overlay.classList.toggle("active"))};testimonialsItem.length>0&&modalImg&&modalTitle&&modalText&&testimonialsItem.forEach(e=>{e.addEventListener("click",function(){try{const e=this.querySelector("[data-testimonials-avatar]"),t=this.querySelector("[data-testimonials-title]"),a=this.querySelector("[data-testimonials-text]");if(e&&t&&a){modalImg.src=e.src,modalImg.alt=e.alt,modalTitle.textContent=t.textContent,modalText.textContent=a.textContent;const o=this.getAttribute("data-testimonial-date"),n=this.getAttribute("data-testimonial-date-text");o&&n&&modalDate&&(modalDate.setAttribute("datetime",o),modalDate.textContent=n),testimonialsModalFunc()}}catch(e){console.error("Error opening testimonial modal:",e)}})}),modalCloseBtn&&modalCloseBtn.addEventListener("click",testimonialsModalFunc),overlay&&overlay.addEventListener("click",testimonialsModalFunc);const select=document.querySelector("[data-select]"),selectItems=document.querySelectorAll("[data-select-item]"),selectValue=document.querySelector("[data-selecct-value]"),filterBtn=document.querySelectorAll("[data-filter-btn]");select&&select.addEventListener("click",function(){elementToggleFunc(this)}),selectItems.length>0&&selectValue&&selectItems.forEach(e=>{e.addEventListener("click",function(){const e=this.innerText.toLowerCase();selectValue.innerText=this.innerText,elementToggleFunc(select),filterFunc(e)})});const filterItems=document.querySelectorAll("[data-filter-item]"),filterFunc=function(e){filterItems.forEach(t=>{"all"===e||e===t.dataset.category?t.classList.add("active"):t.classList.remove("active")})};if(filterBtn.length>0){let e=filterBtn[0];filterBtn.forEach(t=>{t.addEventListener("click",function(){const t=this.innerText.toLowerCase();selectValue&&(selectValue.innerText=this.innerText),filterFunc(t),e&&e.classList.remove("active"),this.classList.add("active"),e=this})})}const form=document.querySelector("[data-form]"),formInputs=document.querySelectorAll("[data-form-input]"),formBtn=document.querySelector("[data-form-btn]");form&&formInputs.length>0&&formBtn&&(formInputs.forEach(e=>{e.addEventListener("input",function(){form.checkValidity()?formBtn.removeAttribute("disabled"):formBtn.setAttribute("disabled","")})}),form.addEventListener("submit",async function(e){e.preventDefault();const t=document.getElementById("form-status"),a=new FormData(form);formBtn&&(formBtn.disabled=!0,formBtn.innerHTML='<ion-icon name="hourglass-outline"></ion-icon><span>Sending...</span>');try{if(!(await fetch(form.action,{method:"POST",body:a,headers:{Accept:"application/json"}})).ok)throw new Error("Form submission failed");t&&(t.style.display="block",t.style.backgroundColor="#d4edda",t.style.color="#155724",t.style.border="1px solid #c3e6cb",t.innerHTML="✓ Message sent successfully! I'll get back to you soon."),form.reset(),formBtn.setAttribute("disabled","")}catch(e){t&&(t.style.display="block",t.style.backgroundColor="#f8d7da",t.style.color="#721c24",t.style.border="1px solid #f5c6cb",t.innerHTML="✗ Oops! Something went wrong. Please try again or email me directly.")}finally{formBtn&&(formBtn.disabled=!1,formBtn.innerHTML='<ion-icon name="paper-plane"></ion-icon><span>Send Message</span>'),setTimeout(()=>{t&&(t.style.display="none")},5e3)}}));const navigationLinks=document.querySelectorAll("[data-nav-link]"),pages=document.querySelectorAll("[data-page]");navigationLinks.length>0&&pages.length>0&&navigationLinks.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-page-target")||this.innerHTML.toLowerCase();pages.forEach(e=>e.classList.remove("active")),navigationLinks.forEach(e=>e.classList.remove("active")),pages.forEach(t=>{e===t.dataset.page&&t.classList.add("active")}),this.classList.add("active"),window.scrollTo(0,0)})}),window.addEventListener("error",function(e){console.error("Global error:",e.error)}),window.addEventListener("unhandledrejection",function(e){console.error("Unhandled promise rejection:",e.reason)});const themeToggle=document.querySelector("[data-theme-toggle]"),html=document.documentElement,currentTheme=localStorage.getItem("theme")||"dark";html.setAttribute("data-theme",currentTheme),themeToggle&&themeToggle.addEventListener("click",function(){const e="dark"===html.getAttribute("data-theme")?"light":"dark";html.setAttribute("data-theme",e),localStorage.setItem("theme",e)});const prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)");prefersReducedMotion.matches&&html.classList.add("reduce-motion");const calculateYearsOfExperience=function(){return(new Date).getFullYear()-2015};document.addEventListener("DOMContentLoaded",function(){const e=calculateYearsOfExperience();document.querySelectorAll("[data-years-experience]").forEach(t=>{const a=(t.textContent||t.innerText).replace(/\d+\+?/,e+"+");t.textContent=a})}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{"development"===process.env.NODE_ENV&&console.log("Service Worker registered:",e)}).catch(e=>{"development"===process.env.NODE_ENV&&console.error("Service Worker registration failed:",e)})});